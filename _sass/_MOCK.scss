
/* ═══════════════════════════════════════════════════════════════════
   LAYER 13 — DEMO MOCK (iPhone Preview Primitive)
   ═══════════════════════════════════════════════════════════════════

   Animated product demo in a device frame.
   Chat messages cycle on a 24s animation.
   render.js builds from CONTENT.json hero.demo.

   Usage:
     <div class="hero-split">
       <div class="hero-split-inner">
         <div class="hero-content">...</div>
         <div class="device-container">
           <div class="device-glow"></div>
           <div class="iphone"><div class="iphone-screen">...</div></div>
         </div>
       </div>
     </div>

   ═══════════════════════════════════════════════════════════════════ */

/* Split hero layout */
.hero-split {
    padding: calc(var(--header-offset) + 28px) 24px 80px;
    background: linear-gradient(180deg, rgba(var(--accent-rgb, 96,165,250), 0.06) 0%, var(--bg) 100%);
}
.hero-split-inner {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 80px;
    align-items: center;
}
.hero-content { max-width: 560px; }
.hero-content h1 {
    font-size: clamp(36px, 4.5vw, 52px);
    font-weight: 700;
    letter-spacing: -0.03em;
    line-height: 1.1;
    margin-bottom: 24px;
}
.hero-content h1 .accent {
    color: var(--accent);
    -webkit-text-fill-color: var(--accent);
}
.hero-content p {
    font-size: 18px;
    color: var(--dim);
    line-height: 1.7;
    margin-bottom: 32px;
}

/* Device frame */
.device-container { position: relative; text-align: center; }
.device-glow {
    position: absolute;
    width: 400px; height: 400px;
    background: radial-gradient(circle, rgba(var(--accent-rgb, 96,165,250), 0.12) 0%, transparent 70%);
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    z-index: 0;
}
.iphone {
    position: relative;
    width: 300px; height: 620px;
    background: #1a1a2e;
    border-radius: 50px;
    padding: 12px;
    margin: 0 auto;
    box-shadow: 0 0 0 1px rgba(255,255,255,0.1), 0 40px 80px rgba(0,0,0,0.25);
    z-index: 1;
    animation: device-pulse 3s ease-in-out infinite;
    transition: transform 0.3s var(--spring);
}
.iphone::before {
    content: '';
    position: absolute;
    top: 0; left: 50%;
    transform: translateX(-50%);
    width: 100px; height: 32px;
    background: #1a1a2e;
    border-radius: 0 0 18px 18px;
    z-index: 10;
}
.iphone-screen {
    width: 100%; height: 100%;
    background: #0a0a0f;
    border-radius: 42px;
    overflow: hidden;
}
.iphone:hover { transform: scale(1.02); }

@keyframes device-pulse {
    0%, 100% { box-shadow: 0 0 0 1px rgba(255,255,255,0.1), 0 40px 80px rgba(0,0,0,0.25), 0 0 0 4px rgba(var(--accent-rgb, 96,165,250), 0.3); }
    50% { box-shadow: 0 0 0 1px rgba(255,255,255,0.1), 0 40px 80px rgba(0,0,0,0.25), 0 0 0 8px rgba(var(--accent-rgb, 96,165,250), 0.15), 0 0 60px rgba(var(--accent-rgb, 96,165,250), 0.3); }
}

/* Chat preview */
.app-preview {
    display: flex;
    flex-direction: column;
    height: 100%;
    background: linear-gradient(180deg, rgba(var(--demo-accent-rgb, 236,72,153), 0.06) 0%, #fff 100%);
    overflow: hidden;
}
.chat-header {
    font-size: var(--font-base);
    font-weight: 700;
    color: var(--demo-accent, var(--pink));
    padding: 12px;
    border-bottom: 1px solid rgba(var(--demo-accent-rgb, 236,72,153), 0.2);
    text-align: center;
    flex-shrink: 0;
}
.chat-messages {
    flex: 1;
    overflow: hidden;
    padding: 12px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    animation: demo-scroll 24s infinite;
}
.chat-msg {
    opacity: 0;
    transform: translateY(10px);
}
.chat-user {
    background: var(--demo-accent, var(--pink));
    color: white;
    padding: 10px 14px;
    border-radius: 16px 16px 4px 16px;
    font-size: 11px;
    margin-left: 20%;
    align-self: flex-end;
}
.chat-bot {
    background: #f8f9fa;
    color: #1a1a2e;
    padding: 10px 14px;
    border-radius: 16px 16px 16px 4px;
    font-size: 11px;
    margin-right: 15%;
    line-height: 1.5;
    align-self: flex-start;
}
.chat-cite {
    font-size: 9px;
    color: #64748b;
    padding-left: 8px;
    align-self: flex-start;
}

/* Typing indicator */
.typing-indicator {
    display: flex;
    gap: 4px;
    padding: 12px 16px;
    background: #f8f9fa;
    border-radius: 16px;
    width: fit-content;
    margin-right: 60%;
    opacity: 0;
}
.typing-indicator span {
    width: 6px; height: 6px;
    background: var(--demo-accent, var(--pink));
    border-radius: 50%;
    animation: typing-bounce 1.4s infinite;
}
.typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
.typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
@keyframes typing-bounce {
    0%, 60%, 100% { transform: translateY(0); opacity: 0.4; }
    30% { transform: translateY(-4px); opacity: 1; }
}

/* Chat input area */
.chat-input-area {
    display: flex;
    gap: 8px;
    padding: 10px;
    background: white;
    border-top: 1px solid rgba(var(--demo-accent-rgb, 236,72,153), 0.15);
    flex-shrink: 0;
    align-items: center;
}
.chat-input {
    flex: 1;
    padding: 8px 12px;
    border: 1px solid #e5e7eb;
    border-radius: 20px;
    font-size: 10px;
    color: #374151;
    background: #f9fafb;
    overflow: hidden;
    white-space: nowrap;
    position: relative;
    height: 28px;
}
.input-text-wrapper {
    position: absolute;
    left: 12px; top: 50%;
    transform: translateY(-50%);
    display: flex;
    align-items: center;
    opacity: 0;
}
.input-text {
    overflow: hidden;
    white-space: nowrap;
    display: inline-block;
    max-width: 0;
}
.input-cursor {
    display: inline-block;
    width: 2px; height: 12px;
    background: var(--demo-accent, var(--pink));
    margin-left: 1px;
    animation: blink-cursor 0.7s infinite;
}
.chat-send {
    width: 32px; height: 32px;
    border-radius: 50%;
    border: none;
    background: var(--demo-accent, var(--pink));
    color: white;
    font-size: 12px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

/* Demo scroll animation (24s cycle) */
@keyframes demo-scroll {
    0%, 15% { transform: translateY(0); }
    20%, 35% { transform: translateY(-60px); }
    40%, 58% { transform: translateY(-140px); }
    62%, 82% { transform: translateY(-220px); }
    87%, 95% { transform: translateY(-300px); }
    98%, 100% { transform: translateY(0); }
}

/* Chat message animations (24s cycle) — 10 messages, 4 typing, 4 typewriter */
.msg-1 { animation: msg-u1 24s infinite; } .typing-1 { animation: typ1 24s infinite; }
.msg-2 { animation: msg-b1 24s infinite; } .msg-3 { animation: msg-u2 24s infinite; }
.typing-2 { animation: typ2 24s infinite; } .msg-4 { animation: msg-b2 24s infinite; }
.msg-5 { animation: msg-c1 24s infinite; } .msg-6 { animation: msg-u3 24s infinite; }
.typing-3 { animation: typ3 24s infinite; } .msg-7 { animation: msg-b3 24s infinite; }
.msg-8 { animation: msg-u4 24s infinite; } .typing-4 { animation: typ4 24s infinite; }
.msg-9 { animation: msg-b4 24s infinite; } .msg-10 { animation: msg-c2 24s infinite; }

@keyframes msg-u1 { 0%,8%{opacity:0;transform:translateY(8px)} 10%,95%{opacity:1;transform:translateY(0)} 98%,100%{opacity:0} }
@keyframes typ1 { 0%,10%{opacity:0} 12%,16%{opacity:1} 18%,100%{opacity:0} }
@keyframes msg-b1 { 0%,16%{opacity:0;transform:translateY(8px)} 18%,95%{opacity:1;transform:translateY(0)} 98%,100%{opacity:0} }
@keyframes msg-u2 { 0%,28%{opacity:0;transform:translateY(8px)} 30%,95%{opacity:1;transform:translateY(0)} 98%,100%{opacity:0} }
@keyframes typ2 { 0%,30%{opacity:0} 32%,36%{opacity:1} 38%,100%{opacity:0} }
@keyframes msg-b2 { 0%,36%{opacity:0;transform:translateY(8px)} 38%,95%{opacity:1;transform:translateY(0)} 98%,100%{opacity:0} }
@keyframes msg-c1 { 0%,38%{opacity:0} 40%,95%{opacity:1} 98%,100%{opacity:0} }
@keyframes msg-u3 { 0%,52%{opacity:0;transform:translateY(8px)} 54%,95%{opacity:1;transform:translateY(0)} 98%,100%{opacity:0} }
@keyframes typ3 { 0%,54%{opacity:0} 56%,60%{opacity:1} 62%,100%{opacity:0} }
@keyframes msg-b3 { 0%,60%{opacity:0;transform:translateY(8px)} 62%,95%{opacity:1;transform:translateY(0)} 98%,100%{opacity:0} }
@keyframes msg-u4 { 0%,77%{opacity:0;transform:translateY(8px)} 79%,95%{opacity:1;transform:translateY(0)} 98%,100%{opacity:0} }
@keyframes typ4 { 0%,79%{opacity:0} 81%,85%{opacity:1} 87%,100%{opacity:0} }
@keyframes msg-b4 { 0%,85%{opacity:0;transform:translateY(8px)} 87%,95%{opacity:1;transform:translateY(0)} 98%,100%{opacity:0} }
@keyframes msg-c2 { 0%,87%{opacity:0} 89%,95%{opacity:1} 98%,100%{opacity:0} }

/* Typewriter input animations */
.input-wrapper-1 { animation: si1 24s infinite; } .input-wrapper-1 .input-text { animation: st1 24s infinite; }
.input-wrapper-2 { animation: si2 24s infinite; } .input-wrapper-2 .input-text { animation: st2 24s infinite; }
.input-wrapper-3 { animation: si3 24s infinite; } .input-wrapper-3 .input-text { animation: st3 24s infinite; }
.input-wrapper-4 { animation: si4 24s infinite; } .input-wrapper-4 .input-text { animation: st4 24s infinite; }

@keyframes si1 { 0%,8%{opacity:1} 9%,100%{opacity:0} }
@keyframes st1 { 0%{max-width:0} 2%{max-width:60px} 4%{max-width:120px} 6%,8%{max-width:200px} 9%,100%{max-width:0} }
@keyframes si2 { 0%,20%{opacity:0} 21%,29%{opacity:1} 30%,100%{opacity:0} }
@keyframes st2 { 0%,20%{max-width:0} 23%{max-width:40px} 25%{max-width:80px} 27%,29%{max-width:150px} 30%,100%{max-width:0} }
@keyframes si3 { 0%,44%{opacity:0} 45%,54%{opacity:1} 55%,100%{opacity:0} }
@keyframes st3 { 0%,44%{max-width:0} 47%{max-width:50px} 49%{max-width:100px} 51%{max-width:150px} 53%,54%{max-width:200px} 55%,100%{max-width:0} }
@keyframes si4 { 0%,69%{opacity:0} 70%,79%{opacity:1} 80%,100%{opacity:0} }
@keyframes st4 { 0%,69%{max-width:0} 72%{max-width:50px} 74%{max-width:100px} 76%{max-width:150px} 78%,79%{max-width:200px} 80%,100%{max-width:0} }

@keyframes send-pulse {
    0%,7%{transform:scale(1)} 8%{transform:scale(0.8);box-shadow:0 0 12px rgba(var(--demo-accent-rgb, 236,72,153),0.6)}
    9%,28%{transform:scale(1);box-shadow:none} 29%{transform:scale(0.8);box-shadow:0 0 12px rgba(var(--demo-accent-rgb, 236,72,153),0.6)}
    30%,53%{transform:scale(1);box-shadow:none} 54%{transform:scale(0.8);box-shadow:0 0 12px rgba(var(--demo-accent-rgb, 236,72,153),0.6)}
    55%,78%{transform:scale(1);box-shadow:none} 79%{transform:scale(0.8);box-shadow:0 0 12px rgba(var(--demo-accent-rgb, 236,72,153),0.6)}
    80%,100%{transform:scale(1);box-shadow:none}
}
.chat-send { animation: send-pulse 24s infinite; }

/* Demo — responsive */
@media (max-width: 768px) {
    .hero-split-inner { grid-template-columns: 1fr; gap: 40px; }
    .hero-split { padding: calc(var(--header-offset) + 20px) 24px 40px; }
    .device-container { order: -1; }
    .iphone { width: 240px; height: 500px; }
}
@media (max-width: 640px) {
    .hero-content h1 { font-size: 32px; }
    .iphone { width: 200px; height: 420px; }
}

