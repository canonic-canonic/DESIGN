<!-- LAYOUT: DECK | Presentations | DESIGN.md 255 Map -->
<!-- Same section data as default, rendered as slides instead of scrollable page -->
{% assign sd = site.data[page.scope | downcase] %}
{% assign sections = page.sections | default: sd.sections %}
<!DOCTYPE html>
<html lang="en" data-scope="{{ page.scope | default: site.scope | downcase }}">
<head>
  {% include HEAD.html %}
</head>
<body class="deck-mode">

  {% include NAV-UNIFIED.html mode="deck" slide_count=sections.size %}

  <main class="deck-main">
    <div class="slide-area">
      <div class="slide-container">
        {% for section in sections %}
        <div class="slide{% if forloop.first %} active{% endif %}" data-slide="{{ forloop.index }}">
          {% if section.eyebrow %}<div class="slide-eyebrow">{{ section.eyebrow }}</div>{% endif %}
          {% if section.title %}<h1 class="slide-heading">{{ section.title }}</h1>{% endif %}
          {% if section.description %}<div class="slide-story">{{ section.description }}</div>{% endif %}

          {% if section.dashboard %}
          <div class="slide-dashboard">
            {% for widget in section.dashboard %}
            <div class="slide-widget{% if widget.span == 2 %} span-2{% endif %}">
              {% if widget.metric %}
              <div class="metric-card">
                <div class="metric-value">{{ widget.metric.value }}</div>
                <div class="metric-label">{{ widget.metric.label }}</div>
                {% if widget.metric.change %}<div class="metric-change {{ widget.metric.trend }}">{{ widget.metric.change }}</div>{% endif %}
              </div>
              {% endif %}
              {% if widget.table %}
              <table class="slide-table">
                <thead><tr>{% for h in widget.table.headers %}<th>{{ h }}</th>{% endfor %}</tr></thead>
                <tbody>{% for row in widget.table.rows %}<tr>{% for cell in row %}<td>{{ cell }}</td>{% endfor %}</tr>{% endfor %}</tbody>
              </table>
              {% endif %}
              {% if widget.figure %}
              <div class="slide-figure" data-figure="{{ widget.figure.type }}" data-config='{{ widget.figure | jsonify }}'></div>
              {% endif %}
            </div>
            {% endfor %}
          </div>
          {% endif %}

          {% if section.cards %}
          <div class="slide-cards">
            {% for card in section.cards %}
            <div class="slide-card">
              {% if card.icon %}<span class="card-icon">{{ card.icon }}</span>{% endif %}
              <strong>{{ card.title }}</strong>
              {% if card.desc %}<p>{{ card.desc }}</p>{% endif %}
              {% if card.text %}<p>{{ card.text }}</p>{% endif %}
            </div>
            {% endfor %}
          </div>
          {% endif %}
        </div>
        {% endfor %}
      </div>

      <div class="slide-nav">
        {% for section in sections %}
        <div class="nav-dot{% if forloop.first %} active{% endif %}" onclick="DECK.go({{ forloop.index }})"></div>
        {% endfor %}
      </div>
    </div>
  </main>

  {% if page.downloads %}
  <nav class="deck-downloads">
    {% for dl in page.downloads %}
    <a href="{{ dl.href }}" class="download-btn" download>{{ dl.icon | default: "â†“" }} {{ dl.label }}</a>
    {% endfor %}
  </nav>
  {% endif %}

  <footer class="deck-footer">{{ page.footerTagline | default: page.title | default: site.title }}</footer>

  {% include SCRIPTS.html deck=true %}
</body>
</html>
